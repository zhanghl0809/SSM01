<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
    xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:p="http://www.springframework.org/schema/p"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd
		http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd">

    <!-- 启动SpringMVC注解 -->
    <mvc:annotation-driven/>
    <!-- 扫描，如果有多个路径使用空格或者逗号进行分隔 -->
    <context:component-scan base-package="com.cc">
    	<context:include-filter type="annotation"
            expression="org.springframework.stereotype.Controller" />    
    </context:component-scan>
    
 
    <mvc:resources location="/resources/" mapping="/resources/**/" />
       <mvc:resources location="/upload/" mapping="/upload/**/"/> 
    <!-- 第一种方式:简单方式排除静态资源 -->
   	<!--<mvc:default-servlet-handler/>   -->
 
    
    <!-- 第二种方式[推荐]:排除静态资源使用映射路径  -->
    <!--
    <mvc:resources location="/resource/" mapping="/shxt/**"/>
    <mvc:resources location="/upload/" mapping="/upload/**"/>    
    <mvc:resources mapping="/js/**" location="/WEB-INF/manage/js/" />
    <mvc:resources mapping="/css/**" location="/WEB-INF/manage/css/" />
    <mvc:resources mapping="/images/**" location="/WEB-INF/manage/images/" />
    <mvc:resources mapping="/editor/**" location="/WEB-INF/manage/editor/" />
    <mvc:resources mapping="/src/**" location="/WEB-INF/manage/src/" />      
     -->
     
     <!-- 配置JSP的视图解析器，该解析器只是针对于请求转发起作用 -->
    <bean id="jspViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <!-- 配置针对于JSTL的视图 -->
        <property name="viewClass" value="org.springframework.web.servlet.view.JstlView"/>
        <!-- 前缀 -->
        <property name="prefix" value="/WEB-INF/"/>
        <!-- 后缀 -->
        <property name="suffix" value=".jsp"/>
    </bean>
        
  <!-- 配置上传 -->
    <!--   <bean id="multipartResolver"
        class="com.cc.base.multipart.CommonsMultipartResolver"
        p:defaultEncoding="UTF-8" p:maxUploadSize="10485760"
        p:maxInMemorySize="4096" p:uploadTempDir="temp" /> 
        -->
        
         
    <!-- 关于上传文件的配置 -->
    <bean id="multipartResolver" 
        class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
        <!-- 设置上传的编码格式为UTF-8 -->   
        <property name="defaultEncoding" value="UTF-8"/> 
        <!-- 允许上传的最大文件为10M -->
        <property name="maxUploadSize" value="10485760"/>
        <!-- 设置临时文件夹 -->
        <property name="uploadTempDir" value="temp"/>
        <!-- 设置缓存 -->
        <property name="maxInMemorySize" value="2048"/>
    </bean>

    <!-- 配置拦截器 -->
    <mvc:interceptors>
        <!-- Session拦截器的配置 -->
        <mvc:interceptor>
            <!-- 设置拦截路径 -->
            <mvc:mapping path="/reception/addBuyCar"/>
             <mvc:mapping path="/reception/buycarlist"/>
             <mvc:mapping path="/reception/dingdanlist"/>
             
             
            <!-- 排除拦截路径 -->
           <!--  <mvc:exclude-mapping path="/com/cc/web"/> -->
            <!-- 定义的Session拦截器 -->
            <bean id="sessionInterceptor" class="com.cc.base.intercepter.SessionInterceptor"/>
        </mvc:interceptor>
    
    </mvc:interceptors>


    <!-- 简单统一异常处理 -->
     <!-- <bean id="simpleMappingExceptionResolver"
        class="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver">
       
        <property name="defaultErrorView" value="manage/error" />        
        
        <property name="exceptionAttribute" value="ex" />
        
        <property name="exceptionMappings">
            <props>
                        
                <prop key="com.cc.base.exception.BYSJException">manage/error</prop>
            </props>
        </property>
    </bean> -->
</beans>
